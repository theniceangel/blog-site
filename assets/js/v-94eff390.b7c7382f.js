(self.webpackChunkblog_site=self.webpackChunkblog_site||[]).push([[9478],{9984:(l,n,s)=>{"use strict";s.r(n),s.d(n,{data:()=>a});const a={key:"v-94eff390",path:"/webpack4/webpack-process/compiling.html",title:"ç¼–è¯‘è¿›è¡Œæ—¶",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"compiler.compile(onCompiled)",slug:"compiler-compile-oncompiled",children:[]},{level:2,title:"this.newCompilationParams()",slug:"this-newcompilationparams",children:[]},{level:2,title:"beforeCompile hook ä¸ compile hook",slug:"beforecompile-hook-ä¸-compile-hook",children:[]},{level:2,title:"this.newCompilation(params)",slug:"this-newcompilation-params",children:[]}],filePathRelative:"webpack4/webpack-process/compiling.md",git:{updatedTime:1630856917e3,contributors:[{name:"jizhi",email:"jizhi@didiglobal.com",commits:1}]}}},6312:(l,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>Un});var a=s(6252);const o=(0,a.uE)('<h1 id="ç¼–è¯‘è¿›è¡Œæ—¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¯‘è¿›è¡Œæ—¶" aria-hidden="true">#</a> ç¼–è¯‘è¿›è¡Œæ—¶</h1><h2 id="compiler-compile-oncompiled" tabindex="-1"><a class="header-anchor" href="#compiler-compile-oncompiled" aria-hidden="true">#</a> compiler.compile(onCompiled)</h2><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compiler</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tapable</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">compile</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">callback</span><span style="color:#E1E4E8;">) {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç¬¬ä¸€æ­¥</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">params</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">newCompilationParams</span><span style="color:#E1E4E8;">();</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç¬¬äºŒæ­¥</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.beforeCompile.</span><span style="color:#B392F0;">callAsync</span><span style="color:#E1E4E8;">(params, </span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (err) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(err);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.compile.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(params);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ç¬¬ä¸‰æ­¥</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">compilation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">newCompilation</span><span style="color:#E1E4E8;">(params);</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// ç¬¬å››æ­¥</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.make.</span><span style="color:#B392F0;">callAsync</span><span style="color:#E1E4E8;">(compilation, </span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (err) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(err);</span></span>\n<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// ç¬¬äº”æ­¥ï¼šTODO</span></span>\n<span class="line"><span style="color:#E1E4E8;">        compilation.</span><span style="color:#B392F0;">finish</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (err) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(err);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">          compilation.</span><span style="color:#B392F0;">seal</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (err) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(err);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.afterCompile.</span><span style="color:#B392F0;">callAsync</span><span style="color:#E1E4E8;">(compilation, </span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (err) </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(err);</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">              </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">callback</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">, compilation);</span></span>\n<span class="line"><span style="color:#E1E4E8;">            });</span></span>\n<span class="line"><span style="color:#E1E4E8;">          });</span></span>\n<span class="line"><span style="color:#E1E4E8;">        });</span></span>\n<span class="line"><span style="color:#E1E4E8;">      });</span></span>\n<span class="line"><span style="color:#E1E4E8;">    });</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"></span></code></pre></div><p>ç¬¬ä¸€æ­¥è°ƒç”¨ <code>this.newCompilationParams</code> ç”Ÿæˆ normalModuleFactoryã€contextModuleFactory å®ä¾‹ã€‚</p><h2 id="this-newcompilationparams" tabindex="-1"><a class="header-anchor" href="#this-newcompilationparams" aria-hidden="true">#</a> this.newCompilationParams()</h2><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compiler</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tapable</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">newCompilationParams</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">params</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">      normalModuleFactory: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createNormalModuleFactory</span><span style="color:#E1E4E8;">(),</span></span>\n<span class="line"><span style="color:#E1E4E8;">      contextModuleFactory: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createContextModuleFactory</span><span style="color:#E1E4E8;">(),</span></span>\n<span class="line"><span style="color:#E1E4E8;">      compilationDependencies: </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Set</span><span style="color:#E1E4E8;">() </span><span style="color:#6A737D;">// TODO</span></span>\n<span class="line"><span style="color:#E1E4E8;">    };</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> params;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"></span></code></pre></div><ul><li><p><strong><code>createNormalModuleFactory</code></strong></p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compiler</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tapable</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">createNormalModuleFactory</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">normalModuleFactory</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">NormalModuleFactory</span><span style="color:#E1E4E8;">(</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.options.context, </span><span style="color:#6A737D;">// è¿è¡Œ webpack æ„å»ºçš„ä¸Šä¸‹æ–‡è·¯å¾„</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.resolverFactory, </span><span style="color:#6A737D;">// ResolverFactory å®ä¾‹</span></span>\n<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.options.module </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> {} </span><span style="color:#6A737D;">// webpack å…³äº module çš„é…ç½®</span></span>\n<span class="line"><span style="color:#E1E4E8;">    );</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è§¦å‘ normalModuleFactory hook</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.normalModuleFactory.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(normalModuleFactory);</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> normalModuleFactory;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"></span></code></pre></div><p>normalModuleFactory åœ¨ webpack çš„ä¸€æ¬¡æ„å»ºä¸­æ‰®æ¼”ç€ç‰¹åˆ«é‡è¦çš„è§’è‰²ï¼Œå®ƒæ˜¯ä¸€ä¸ªå·¥å‚å®ä¾‹ï¼Œä½œç”¨æ˜¯ä¸ºäº†ç”Ÿæˆ normalModuleï¼Œåœ¨ webpack çš„ç”Ÿæ€é‡Œé¢ï¼Œç»å¤§éƒ¨åˆ†çš„æ¨¡å—éƒ½æ˜¯ normalModuleã€‚</p></li><li><p><strong><code>createContextModuleFactory</code></strong></p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compiler</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tapable</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">createContextModuleFactory</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">contextModuleFactory</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ContextModuleFactory</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.resolverFactory);</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è§¦å‘ contextModuleFactory hook</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.contextModuleFactory.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(contextModuleFactory);</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> contextModuleFactory;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"></span></code></pre></div><p>contextModuleFactory åœ¨ webpack çš„ä¸€æ¬¡æ„å»ºä¸­æ‰®æ¼”ç€ç‰¹åˆ«é‡è¦çš„è§’è‰²ï¼Œå®ƒæ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œç”Ÿæˆçš„ module éƒ½æ˜¯ contextModuleã€‚</p><p>// TODO ContextModule çš„è¯¦è§£ã€‚</p></li></ul><p>ç¬¬ä¸€æ­¥ç”Ÿæˆçš„ params åœ¨åé¢ç”Ÿæˆ compilation çš„æ—¶å€™ä¼šç”¨åˆ°ï¼Œç¬¬äºŒæ­¥æ‰§è¡Œ beforeCompile ä¸ compile hookã€‚</p><h2 id="beforecompile-hook-ä¸-compile-hook" tabindex="-1"><a class="header-anchor" href="#beforecompile-hook-ä¸-compile-hook" aria-hidden="true">#</a> beforeCompile hook ä¸ compile hook</h2><p>beforeCompile hook æ˜¯ AsyncSeriesHook ç±»å‹ã€‚æš‚æœªå‘ç°æœ‰æ’ä»¶é’©å…¥è¿™ä¸ª hookï¼Œè¿™ä¸ª hook çš„å…¥å‚å°±æ˜¯ç¬¬ä¸€æ­¥ç”Ÿæˆçš„ <code>params</code>ã€‚</p><p>compile hook æ˜¯ SyncHook ç±»å‹ã€‚æš‚æœªå‘ç°æœ‰æ’ä»¶é’©å…¥è¿™ä¸ª hookï¼Œè¿™ä¸ª hook çš„å…¥å‚ä¹Ÿæ˜¯ç¬¬ä¸€æ­¥ç”Ÿæˆçš„ <code>params</code>ã€‚</p><p>æ¥ç€å°±æ˜¯ç¬¬ä¸‰æ­¥â€”â€”<strong>ç”Ÿæˆ compilation</strong>ã€‚</p><h2 id="this-newcompilation-params" tabindex="-1"><a class="header-anchor" href="#this-newcompilation-params" aria-hidden="true">#</a> this.newCompilation(params)</h2><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compiler</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Tapable</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">createCompilation</span><span style="color:#E1E4E8;">() {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Compilation</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">newCompilation</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">params</span><span style="color:#E1E4E8;">) {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ç”Ÿæˆ compilation</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">compilation</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">createCompilation</span><span style="color:#E1E4E8;">();</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// æ–‡ä»¶çš„æ—¶é—´æˆ³</span></span>\n<span class="line"><span style="color:#E1E4E8;">    compilation.fileTimestamps </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.fileTimestamps;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// TODO</span></span>\n<span class="line"><span style="color:#E1E4E8;">    compilation.contextTimestamps </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.contextTimestamps;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// compiler çš„åç§°</span></span>\n<span class="line"><span style="color:#E1E4E8;">    compilation.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.name;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// å°† compilerçš„ records èµ‹å€¼ç»™ compilation</span></span>\n<span class="line"><span style="color:#E1E4E8;">    compilation.records </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.records;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    compilation.compilationDependencies </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> params.compilationDependencies;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è§¦å‘ thisCompilation hook</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.thisCompilation.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(compilation, params);</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// è§¦å‘ compilation hook</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.hooks.compilation.</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(compilation, params);</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> compilation;</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">}</span></span>\n<span class="line"></span></code></pre></div><p><strong>compilation ä»£è¡¨ä¸€æ¬¡æ„å»ºï¼Œè€Œ compiler å¯ä»¥é€šè¿‡æ¥å£å¤šæ¬¡è°ƒç”¨ compile æ¥ç”Ÿæˆå¤šä¸ª compilation å®ä¾‹ï¼Œåœ¨ watch æ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡ä¿®æ”¹æ–‡ä»¶éƒ½ä¼šé‡å¤æ„å»ºã€‚</strong></p><ul><li><strong><code>1. hooks.thisCompilation</code></strong></li></ul>',16),p=(0,a.Uk)("é’©å…¥è¿™ä¸ª hook çš„æ’ä»¶æœ‰ "),e=(0,a.Uk)("JsonpTemplatePlugin"),t=(0,a.Uk)("ï¼ŒFetchCompileWasmTemplatePlugin(ç•¥è¿‡)ï¼Œ"),c=(0,a.Uk)("WarnNoModeSetPlugin"),r=(0,a.Uk)("ï¼Œ"),i=(0,a.Uk)("SplitChunksPlugin"),E=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,[(0,a.Wm)("code",null,"2. hooks.compilation")])],-1),u=(0,a.Wm)("p",null,"é’©å…¥è¿™ä¸ª hook çš„æ’ä»¶éå¸¸éå¸¸å¤šã€‚ä¸‹é¢å¨“å¨“é“æ¥ã€‚",-1),m=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"FunctionModulePlugin")],-1),y=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),g=(0,a.Uk)("FunctionModulePlugin"),d=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"LoaderTargetPlugin")],-1),k=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),W=(0,a.Uk)("LoaderTargetPlugin"),F=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"JavascriptModulesPlugin")],-1),h=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),P=(0,a.Uk)("JavascriptModulesPlugin"),w=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"JsonModulesPlugin")],-1),f=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),b=(0,a.Uk)("JsonModulesPlugin"),U=(0,a.Wm)("li",null,[(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"WebAssemblyModulesPlugin")]),(0,a.Wm)("p",null,"ç•¥è¿‡ã€‚")],-1),C=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"SingleEntryPlugin")],-1),B=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),M=(0,a.Uk)("SingleEntryPlugin"),_=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"CompatibilityPlugin")],-1),x=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),D=(0,a.Uk)("CompatibilityPlugin"),v=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"HarmonyModulesPlugin")],-1),A=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),S=(0,a.Uk)("HarmonyModulesPlugin"),T=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"AMDPlugin")],-1),I=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),O=(0,a.Uk)("AMDPlugin"),R=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RequireJsStuffPlugin")],-1),J=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),j=(0,a.Uk)("RequireJsStuffPlugin"),q=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"CommonJsPlugin")],-1),z=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),N=(0,a.Uk)("CommonJsPlugin"),L=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"LoaderPlugin")],-1),H=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Y=(0,a.Uk)("LoaderPlugin"),G=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"CommonJsStuffPlugin")],-1),K=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Q=(0,a.Uk)("CommonJsStuffPlugin"),V=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"APIPlugin")],-1),X=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Z=(0,a.Uk)("APIPlugin"),$=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ConstPlugin")],-1),ll=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),nl=(0,a.Uk)("ConstPlugin"),sl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"UseStrictPlugin")],-1),al=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),ol=(0,a.Uk)("UseStrictPlugin"),pl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RequireIncludePlugin")],-1),el=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),tl=(0,a.Uk)("RequireIncludePlugin"),cl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RequireEnsurePlugin")],-1),rl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),il=(0,a.Uk)("RequireEnsurePlugin"),El=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RequireContextPlugin")],-1),ul=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),ml=(0,a.Uk)("RequireContextPlugin"),yl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ImportPlugin")],-1),gl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),dl=(0,a.Uk)("ImportPlugin"),kl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"SystemPlugin")],-1),Wl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Fl=(0,a.Uk)("SystemPlugin"),hl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"EnsureChunkConditionsPlugin")],-1),Pl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),wl=(0,a.Uk)("EnsureChunkConditionsPlugin"),fl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RemoveParentModulesPlugin")],-1),bl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Ul=(0,a.Uk)("RemoveParentModulesPlugin"),Cl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RemoveEmptyChunksPlugin")],-1),Bl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Ml=(0,a.Uk)("RemoveEmptyChunksPlugin"),_l=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"MergeDuplicateChunksPlugin")],-1),xl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Dl=(0,a.Uk)("MergeDuplicateChunksPlugin"),vl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"FlagIncludedChunksPlugin")],-1),Al=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Sl=(0,a.Uk)("FlagIncludedChunksPlugin"),Tl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"SideEffectsFlagPlugin")],-1),Il=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Ol=(0,a.Uk)("SideEffectsFlagPlugin"),Rl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"FlagDependencyExportsPlugin")],-1),Jl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),jl=(0,a.Uk)("FlagDependencyExportsPlugin"),ql=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"FlagDependencyUsagePlugin")],-1),zl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Nl=(0,a.Uk)("FlagDependencyUsagePlugin"),Ll=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ModuleConcatenationPlugin")],-1),Hl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Yl=(0,a.Uk)("ModuleConcatenationPlugin"),Gl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"NoEmitOnErrorsPlugin")],-1),Kl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),Ql=(0,a.Uk)("NoEmitOnErrorsPlugin"),Vl=(0,a.Wm)("li",null,[(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"WasmFinalizeExportsPlugin")]),(0,a.Wm)("p",null,"ç•¥è¿‡ã€‚")],-1),Xl=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"OccurrenceOrderModuleIdsPlugin")],-1),Zl=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),$l=(0,a.Uk)("OccurrenceOrderModuleIdsPlugin"),ln=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"OccurrenceOrderChunkIdsPlugin")],-1),nn=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),sn=(0,a.Uk)("OccurrenceOrderChunkIdsPlugin"),an=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"DefinePlugin")],-1),on=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),pn=(0,a.Uk)("DefinePlugin"),en=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"TemplatedPathPlugin")],-1),tn=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),cn=(0,a.Uk)("TemplatedPathPlugin"),rn=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"RecordIdsPlugin")],-1),En=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),un=(0,a.Uk)("RecordIdsPlugin"),mn=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"WarnCaseSensitiveModulesPlugin")],-1),yn=(0,a.Uk)("è¯¦ç»†çš„è¯·ğŸ‘‡"),gn=(0,a.Uk)("WarnCaseSensitiveModulesPlugin"),dn=(0,a.Wm)("p",null,[(0,a.Wm)("strong",null,"ä¸ºä»€ä¹ˆè¦æœ‰ thisCompilation ä¸ compilation hook å‘¢ï¼Œçœ‹èµ·æ¥åˆå¹¶æˆä¸€ä¸ª hook ä¹Ÿä¸æ˜¯ä¸å¯ä»¥å•Šï¼Ÿ")],-1),kn=(0,a.Uk)("åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹è‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ webpack çš„ Compiler è¿˜æœ‰å¦å¤–ä¸€ç§å½¢æ€ï¼Œé‚£å°±æ˜¯ "),Wn=(0,a.Uk)("childCompiler"),Fn=(0,a.Uk)("ã€‚childCompiler ä¸ä¼šå¤åˆ¶ parentCompiler ä¸Šçš„ thisCompilation hookï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šæ‰§è¡Œä¸Šè¿°çš„ JsonpTemplatePlugin ç­‰ç­‰æ’ä»¶ã€‚"),hn=(0,a.Uk)("ç¬¬å››æ­¥å°±æ˜¯è§¦å‘ make hookï¼Œè¿™ä¸ª hook ä»£è¡¨æ„å»ºè¿‡ç¨‹ä» entry é…ç½®çš„æ–‡ä»¶å¼€å§‹ï¼ŒæŒ‰ç…§"),Pn=(0,a.Wm)("strong",null,"æ·±åº¦éå†",-1),wn=(0,a.Uk)("çš„é¡ºåºé€ä¸ªè§£æå‡ºæ‰€æœ‰æ¨¡å—ã€‚æ•´ä¸ªæµç¨‹çš„åˆ†æå¯ä»¥æŸ¥è¯¢ "),fn=(0,a.Uk)("æ¨¡å—è§£æ"),bn=(0,a.Uk)("è¿™ä¸€ç« èŠ‚ã€‚"),Un={render:function(l,n){const s=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.j4)(a.HY,null,[o,(0,a.Wm)("p",null,[p,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/jsonpChunkTemplate/JsonpTemplatePlugin.html"},{default:(0,a.w5)((()=>[e])),_:1}),t,(0,a.Wm)(s,{to:"/webpack4/configuration/mode.html"},{default:(0,a.w5)((()=>[c])),_:1}),r,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/splitChunks.html"},{default:(0,a.w5)((()=>[i])),_:1})]),(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[E,u,(0,a.Wm)("ul",null,[(0,a.Wm)("li",null,[m,(0,a.Wm)("p",null,[y,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/FunctionModulePlugin.html"},{default:(0,a.w5)((()=>[g])),_:1})])]),(0,a.Wm)("li",null,[d,(0,a.Wm)("p",null,[k,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/LoaderTargetPlugin.html"},{default:(0,a.w5)((()=>[W])),_:1})])]),(0,a.Wm)("li",null,[F,(0,a.Wm)("p",null,[h,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/JavascriptModulesPlugin.html"},{default:(0,a.w5)((()=>[P])),_:1})])]),(0,a.Wm)("li",null,[w,(0,a.Wm)("p",null,[f,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/JsonModulesPlugin.html"},{default:(0,a.w5)((()=>[b])),_:1})])]),U,(0,a.Wm)("li",null,[C,(0,a.Wm)("p",null,[B,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/entry/SingleEntryPlugin.html"},{default:(0,a.w5)((()=>[M])),_:1})])]),(0,a.Wm)("li",null,[_,(0,a.Wm)("p",null,[x,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/CompatibilityPlugin.html"},{default:(0,a.w5)((()=>[D])),_:1})])]),(0,a.Wm)("li",null,[v,(0,a.Wm)("p",null,[A,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/HarmonyModulesPlugin.html"},{default:(0,a.w5)((()=>[S])),_:1})])]),(0,a.Wm)("li",null,[T,(0,a.Wm)("p",null,[I,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/AMDPlugin.html"},{default:(0,a.w5)((()=>[O])),_:1})])]),(0,a.Wm)("li",null,[R,(0,a.Wm)("p",null,[J,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/RequireJsStuffPlugin.html"},{default:(0,a.w5)((()=>[j])),_:1})])]),(0,a.Wm)("li",null,[q,(0,a.Wm)("p",null,[z,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/CommonJsPlugin.html"},{default:(0,a.w5)((()=>[N])),_:1})])]),(0,a.Wm)("li",null,[L,(0,a.Wm)("p",null,[H,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/LoaderPlugin.html"},{default:(0,a.w5)((()=>[Y])),_:1})])]),(0,a.Wm)("li",null,[G,(0,a.Wm)("p",null,[K,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/CommonJsStuffPlugin.html"},{default:(0,a.w5)((()=>[Q])),_:1})])]),(0,a.Wm)("li",null,[V,(0,a.Wm)("p",null,[X,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/APIPlugin.html"},{default:(0,a.w5)((()=>[Z])),_:1})])]),(0,a.Wm)("li",null,[$,(0,a.Wm)("p",null,[ll,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/ConstPlugin.html"},{default:(0,a.w5)((()=>[nl])),_:1})])]),(0,a.Wm)("li",null,[sl,(0,a.Wm)("p",null,[al,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/UseStrictPlugin.html"},{default:(0,a.w5)((()=>[ol])),_:1})])]),(0,a.Wm)("li",null,[pl,(0,a.Wm)("p",null,[el,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/RequireIncludePlugin.html"},{default:(0,a.w5)((()=>[tl])),_:1})])]),(0,a.Wm)("li",null,[cl,(0,a.Wm)("p",null,[rl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/RequireEnsurePlugin.html"},{default:(0,a.w5)((()=>[il])),_:1})])]),(0,a.Wm)("li",null,[El,(0,a.Wm)("p",null,[ul,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/RequireContextPlugin.html"},{default:(0,a.w5)((()=>[ml])),_:1})])]),(0,a.Wm)("li",null,[yl,(0,a.Wm)("p",null,[gl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/ImportPlugin.html"},{default:(0,a.w5)((()=>[dl])),_:1})])]),(0,a.Wm)("li",null,[kl,(0,a.Wm)("p",null,[Wl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/SystemPlugin.html"},{default:(0,a.w5)((()=>[Fl])),_:1})])]),(0,a.Wm)("li",null,[hl,(0,a.Wm)("p",null,[Pl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/EnsureChunkConditionsPlugin.html"},{default:(0,a.w5)((()=>[wl])),_:1})])]),(0,a.Wm)("li",null,[fl,(0,a.Wm)("p",null,[bl,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/removeAvailableModules.html"},{default:(0,a.w5)((()=>[Ul])),_:1})])]),(0,a.Wm)("li",null,[Cl,(0,a.Wm)("p",null,[Bl,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/removeEmptyChunks.html"},{default:(0,a.w5)((()=>[Ml])),_:1})])]),(0,a.Wm)("li",null,[_l,(0,a.Wm)("p",null,[xl,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/mergeDuplicateChunks.html"},{default:(0,a.w5)((()=>[Dl])),_:1})])]),(0,a.Wm)("li",null,[vl,(0,a.Wm)("p",null,[Al,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/flagIncludedChunks.html"},{default:(0,a.w5)((()=>[Sl])),_:1})])]),(0,a.Wm)("li",null,[Tl,(0,a.Wm)("p",null,[Il,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/SideEffectsFlagPlugin.html"},{default:(0,a.w5)((()=>[Ol])),_:1})])]),(0,a.Wm)("li",null,[Rl,(0,a.Wm)("p",null,[Jl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/FlagDependencyExportsPlugin.html"},{default:(0,a.w5)((()=>[jl])),_:1})])]),(0,a.Wm)("li",null,[ql,(0,a.Wm)("p",null,[zl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/FlagDependencyUsagePlugin.html"},{default:(0,a.w5)((()=>[Nl])),_:1})])]),(0,a.Wm)("li",null,[Ll,(0,a.Wm)("p",null,[Hl,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/ModuleConcatenationPlugin.html"},{default:(0,a.w5)((()=>[Yl])),_:1})])]),(0,a.Wm)("li",null,[Gl,(0,a.Wm)("p",null,[Kl,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/noEmitOnErrors.html"},{default:(0,a.w5)((()=>[Ql])),_:1})])]),Vl,(0,a.Wm)("li",null,[Xl,(0,a.Wm)("p",null,[Zl,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/namedModules&moduleIds&occurrenceOrder&hashedModuleIds.html"},{default:(0,a.w5)((()=>[$l])),_:1})])]),(0,a.Wm)("li",null,[ln,(0,a.Wm)("p",null,[nn,(0,a.Wm)(s,{to:"/webpack4/configuration/optimization/namedChunks&chunkIds&occurrenceOrder.html"},{default:(0,a.w5)((()=>[sn])),_:1})])]),(0,a.Wm)("li",null,[an,(0,a.Wm)("p",null,[on,(0,a.Wm)(s,{to:"/webpack4/internal-plugins/DefinePlugin.html"},{default:(0,a.w5)((()=>[pn])),_:1})])]),(0,a.Wm)("li",null,[en,(0,a.Wm)("p",null,[tn,(0,a.Wm)(s,{to:"/webpack4/webpack-process/TemplatedPathPlugin.html"},{default:(0,a.w5)((()=>[cn])),_:1})])]),(0,a.Wm)("li",null,[rn,(0,a.Wm)("p",null,[En,(0,a.Wm)(s,{to:"/webpack4/configuration/recordsPath&recordsInputPath&recordsOutputPath.html"},{default:(0,a.w5)((()=>[un])),_:1})])]),(0,a.Wm)("li",null,[mn,(0,a.Wm)("p",null,[yn,(0,a.Wm)(s,{to:"/webpack4/webpack-process/WarnCaseSensitiveModulesPlugin.html"},{default:(0,a.w5)((()=>[gn])),_:1})])])])])]),dn,(0,a.Wm)("p",null,[kn,(0,a.Wm)(s,{to:"/webpack4/internal-class/childCompiler.html"},{default:(0,a.w5)((()=>[Wn])),_:1}),Fn]),(0,a.Wm)("p",null,[hn,Pn,wn,(0,a.Wm)(s,{to:"/webpack4/webpack-process/compiling-modules.html"},{default:(0,a.w5)((()=>[fn])),_:1}),bn])],64)}}}}]);