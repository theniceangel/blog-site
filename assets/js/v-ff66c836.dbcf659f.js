(self.webpackChunkblog_site=self.webpackChunkblog_site||[]).push([[2873],{8261:(l,n,e)=>{"use strict";e.r(n),e.d(n,{data:()=>s});const s={key:"v-ff66c836",path:"/webpack4/configuration/node/",title:"node",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"NodeStuffPlugin",slug:"nodestuffplugin",children:[]},{level:2,title:"NodeSourcePlugin",slug:"nodesourceplugin",children:[]}],filePathRelative:"webpack4/configuration/node/README.md",git:{updatedTime:1628438767e3,contributors:[{name:"jizhi",email:"jizhi@didiglobal.com",commits:2}]}}},6903:(l,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>sl});var s=e(6252);const o=(0,s.uE)('<h1 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> node</h1><p>node çš„é…ç½®é¡¹å†³å®šäº†æ˜¯å¦éœ€è¦ç»™ nodejs çš„æ ¸å¿ƒæ¨¡å—åšä¸€å±‚ polyfillï¼Œå› æ­¤åœ¨æµè§ˆå™¨çš„ç¯å¢ƒä¸‹ï¼Œä¹Ÿèƒ½å®‰å…¨ä½¿ç”¨è¿™äº› APIã€‚</p><p>å®ƒå¯ä»¥é…ç½®ä¸º <code>false</code>ï¼Œè¡¨ç¤ºä¸åšä»»ä½•å¤„ç†ï¼Œä¹Ÿå¯ä»¥é…ç½®æˆå¦‚ä¸‹å¯¹è±¡ï¼š</p><div class="language-javascript ext-js"><pre class="shiki" style="background-color:#24292e;"><code><span class="line"><span style="color:#79B8FF;">module</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">exports</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>\n<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//...</span></span>\n<span class="line"><span style="color:#E1E4E8;">  node: {</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ä½¿ç”¨ NodeStuffPlugin</span></span>\n<span class="line"><span style="color:#E1E4E8;">    __filename: </span><span style="color:#9ECBFF;">&#39;mock&#39;</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    __dirname: </span><span style="color:#9ECBFF;">&#39;mock&#39;</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// \bä½¿ç”¨ NodeSourcePlugin</span></span>\n<span class="line"><span style="color:#E1E4E8;">    console: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// æµè§ˆå™¨æœ‰ consoleï¼Œæ‰€ä»¥ä¸å¿…å¤„ç†</span></span>\n<span class="line"><span style="color:#E1E4E8;">    global: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    process: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    Buffer: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    setImmediate: </span><span style="color:#79B8FF;">true</span></span>\n<span class="line"><span style="color:#E1E4E8;">    fs: </span><span style="color:#9ECBFF;">&#39;empty&#39;</span><span style="color:#E1E4E8;">,</span></span>\n<span class="line"><span style="color:#E1E4E8;">    dns: </span><span style="color:#9ECBFF;">&#39;mock&#39;</span></span>\n<span class="line"><span style="color:#E1E4E8;">    url: </span><span style="color:#79B8FF;">true</span></span>\n<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ... çœç•¥å…¶ä»–çš„ node core libs é…ç½®</span></span>\n<span class="line"><span style="color:#E1E4E8;">  }</span></span>\n<span class="line"><span style="color:#E1E4E8;">};</span></span>\n<span class="line"></span></code></pre></div><p>node çš„é€‰é¡¹å€¼å¯ä»¥é…ç½®ä¸ºä»¥ä¸‹çš„å€¼ï¼š</p>',5),t=(0,s.Wm)("li",null,[(0,s.Wm)("p",null,[(0,s.Wm)("strong",null,"true"),(0,s.Uk)(": æä¾› polyfill")])],-1),a=(0,s.Wm)("strong",null,"'mock'",-1),p=(0,s.Uk)(": æä¾› mock åŠŸèƒ½å‡½æ•°ï¼Œè¯¦ç»†çš„è§ "),c=(0,s.Uk)("node-libs-browser"),r=(0,s.Uk)(" mock æ¨¡å—"),d=(0,s.Wm)("li",null,[(0,s.Wm)("p",null,[(0,s.Wm)("strong",null,"'empty'"),(0,s.Uk)(": æä¾›ä¸€ä¸ªç©ºå¯¹è±¡")])],-1),i=(0,s.Wm)("li",null,[(0,s.Wm)("p",null,[(0,s.Wm)("strong",null,"false"),(0,s.Uk)(": ä»€ä¹ˆéƒ½ä¸åš")])],-1),u={class:"custom-container warning"},m=(0,s.Wm)("p",{class:"custom-container-title"},"WARNING",-1),E=(0,s.Uk)("å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ¨¡å—éƒ½æ”¯æŒå¦‚ä¸Šå››ä¸ªé…ç½®é¡¹ï¼Œå¯¹äºä¸éœ€è¦å¼•å…¥çš„ node ä¸­çš„å¯¹è±¡ï¼Œæ¯”å¦‚ process, setImmediateï¼Œè¿™äº›å°±ä¸èƒ½é…ç½®ä¸º "),W=(0,s.Wm)("code",null,"'empty'",-1),g=(0,s.Uk)("ï¼Œå¯¹äº "),y=(0,s.Wm)("code",null,"fs",-1),f=(0,s.Uk)(" å°±å¯ä»¥é…ç½®ä¸º "),k=(0,s.Wm)("code",null,"'empty'",-1),h=(0,s.Uk)("ï¼Œä½†æ˜¯ä¸èƒ½é…ç½®ä¸º "),b=(0,s.Wm)("code",null,"'mock'",-1),U=(0,s.Uk)("ï¼Œå› ä¸º "),w=(0,s.Uk)("node-libs-browser"),x=(0,s.Uk)(" ä¸æ”¯æŒã€‚"),F=(0,s.Wm)("h2",{id:"nodestuffplugin",tabindex:"-1"},[(0,s.Wm)("a",{class:"header-anchor",href:"#nodestuffplugin","aria-hidden":"true"},"#"),(0,s.Uk)(" NodeStuffPlugin")],-1),_=(0,s.Wm)("p",null,[(0,s.Uk)("webpack å†…éƒ¨ä½¿ç”¨ NodeStuffPlugin æ¥å¯¹ä»£ç ä¸­ "),(0,s.Wm)("code",null,"__filename"),(0,s.Uk)(" ä»¥åŠ "),(0,s.Wm)("code",null,"__dirname"),(0,s.Uk)(" åšå¤„ç†ã€‚")],-1),N=(0,s.Wm)("ul",null,[(0,s.Wm)("li",null,[(0,s.Wm)("strong",null,[(0,s.Wm)("code",null,"node.__filename")])])],-1),B=(0,s.Wm)("thead",null,[(0,s.Wm)("tr",null,[(0,s.Wm)("th",{style:{"text-align":"left"}},"å€¼"),(0,s.Wm)("th",{style:{"text-align":"right"}},"æè¿°")])],-1),P=(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"true")],-1),S={style:{"text-align":"right"}},v=(0,s.Uk)("æ–‡ä»¶ç›¸å¯¹äº "),A=(0,s.Uk)("context"),j=(0,s.Uk)(" é€‰é¡¹çš„è·¯å¾„"),C=(0,s.Wm)("tr",null,[(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"false")]),(0,s.Wm)("td",{style:{"text-align":"right"}},"ä¸å¤„ç†")],-1),D=(0,s.Wm)("tr",null,[(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"mock")]),(0,s.Wm)("td",{style:{"text-align":"right"}},[(0,s.Uk)("æ›¿æ¢æˆå¸¸é‡ "),(0,s.Wm)("code",null,"'/index.js'")])],-1),I=(0,s.Wm)("ul",null,[(0,s.Wm)("li",null,[(0,s.Wm)("strong",null,[(0,s.Wm)("code",null,"node.__dirname")])])],-1),R=(0,s.Wm)("thead",null,[(0,s.Wm)("tr",null,[(0,s.Wm)("th",{style:{"text-align":"left"}},"å€¼"),(0,s.Wm)("th",{style:{"text-align":"right"}},"æè¿°")])],-1),z=(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"true")],-1),G={style:{"text-align":"right"}},H=(0,s.Uk)("å½“å‰æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ç›¸å¯¹äº "),L=(0,s.Uk)("context"),M=(0,s.Uk)(" é€‰é¡¹çš„è·¯å¾„"),T=(0,s.Wm)("tr",null,[(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"false")]),(0,s.Wm)("td",{style:{"text-align":"right"}},"ä¸å¤„ç†")],-1),Y=(0,s.Wm)("tr",null,[(0,s.Wm)("td",{style:{"text-align":"left"}},[(0,s.Wm)("code",null,"mock")]),(0,s.Wm)("td",{style:{"text-align":"right"}},[(0,s.Uk)("æ›¿æ¢æˆå¸¸é‡ "),(0,s.Wm)("code",null,"'/'")])],-1),q=(0,s.Uk)("è¯¦ç»†çš„åˆ†æ"),J=(0,s.Uk)("è¯·ğŸ‘‡ NodeStuffPlugin"),K=(0,s.uE)('<h2 id="nodesourceplugin" tabindex="-1"><a class="header-anchor" href="#nodesourceplugin" aria-hidden="true">#</a> NodeSourcePlugin</h2><p>webpack å†…éƒ¨ä½¿ç”¨ NodeSourcePlugin æ¥å¯¹ä»£ç ä¸­ node çš„ä¸€äº›æ¨¡å—å’Œå¯¹è±¡è¿›è¡Œ polyfillã€‚</p><ul><li><strong><code>node.console</code></strong></li></ul><p>å› ä¸ºæµè§ˆå™¨æœ‰äº† console çš„å®ç°ï¼Œæ‰€ä»¥ä¸€èˆ¬é…ç½®ä¸º <code>false</code></p><ul><li><strong><code>node.process</code></strong></li></ul><p>é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œå¯ä»¥é…ç½®æˆ <code>&#39;mock&#39;</code></p><ul><li><strong><code>node.global</code></strong></li></ul><p>é»˜è®¤å€¼ä¸º <code>true</code></p><ul><li><strong><code>node.Buffer</code></strong></li></ul><p>é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œå¯ä»¥é…ç½®æˆ <code>&#39;mock&#39;</code></p><ul><li><strong><code>node.setImmediate</code></strong></li></ul><p>é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œå¯ä»¥é…ç½®æˆ <code>&#39;mock&#39;</code> | <code>&#39;empty&#39;</code></p>',12),O=(0,s.Uk)("è¿˜å¯ä»¥è®¾ç½®å…¶ä»–çš„é…ç½®é¡¹ï¼Œæ¯”å¦‚ "),Q=(0,s.Wm)("code",null,"node.fs",-1),V=(0,s.Uk)("ã€"),X=(0,s.Wm)("code",null,"node.dns",-1),Z=(0,s.Uk)("ï¼Œæ‰€æœ‰çš„ polyfills éƒ½æ˜¯æ¥è‡ªäº "),$=(0,s.Uk)("node-libs-browser"),ll=(0,s.Uk)("ã€‚"),nl=(0,s.Uk)("è¯¦ç»†çš„åˆ†æ"),el=(0,s.Uk)("è¯·ğŸ‘‡ NodeSourcePlugin"),sl={render:function(l,n){const e=(0,s.up)("RouterLink");return(0,s.wg)(),(0,s.j4)(s.HY,null,[o,(0,s.Wm)("ul",null,[t,(0,s.Wm)("li",null,[(0,s.Wm)("p",null,[a,p,(0,s.Wm)(e,{to:"/webpack4/third-dependencies/node-libs-browser.html"},{default:(0,s.w5)((()=>[c])),_:1}),r])]),d,i]),(0,s.Wm)("div",u,[m,(0,s.Wm)("p",null,[E,W,g,y,f,k,h,b,U,(0,s.Wm)(e,{to:"/webpack4/third-dependencies/node-libs-browser.html"},{default:(0,s.w5)((()=>[w])),_:1}),x])]),F,_,N,(0,s.Wm)("table",null,[B,(0,s.Wm)("tbody",null,[(0,s.Wm)("tr",null,[P,(0,s.Wm)("td",S,[v,(0,s.Wm)(e,{to:"/webpack4/configuration/context.html"},{default:(0,s.w5)((()=>[A])),_:1}),j])]),C,D])]),I,(0,s.Wm)("table",null,[R,(0,s.Wm)("tbody",null,[(0,s.Wm)("tr",null,[z,(0,s.Wm)("td",G,[H,(0,s.Wm)(e,{to:"/webpack4/configuration/context.html"},{default:(0,s.w5)((()=>[L])),_:1}),M])]),T,Y])]),(0,s.Wm)("p",null,[q,(0,s.Wm)(e,{to:"/webpack4/internal-plugins/NodeStuffPlugin.html"},{default:(0,s.w5)((()=>[J])),_:1})]),K,(0,s.Wm)("p",null,[O,Q,V,X,Z,(0,s.Wm)(e,{to:"/webpack4/third-dependencies/node-libs-browser.html"},{default:(0,s.w5)((()=>[$])),_:1}),ll]),(0,s.Wm)("p",null,[nl,(0,s.Wm)(e,{to:"/webpack4/internal-plugins/NodeSourcePlugin.html"},{default:(0,s.w5)((()=>[el])),_:1})])],64)}}}}]);